<!DOCTYPE html>
<html>

<head>
    <title>GeoLocation Sound Player</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">



<link rel="stylesheet" href="styles.css" />
   
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>

    </script>
</head>

<body>
    <h1>GeoLocation Sound Player</h1>
    <p>Your sound will be updated based on your location every 2 seconds.</p>
    <br>
    <div id="status">
        <p id="remainingTime"></p>
    </div>
    <div id="mediaControls">
    <button id="playPauseButton">Play/Pause</button>
    <button id="stopButton">Stop</button>
</div>

    <button style="width:100%; height:60px;" id="startButton">Click to allow sounds to play</button>


    <div id="map" style="height: 400px; width: 100%;"></div>
    <br>
    <div id="distanceInfo" style="margin-top: 20px;"></div>

    <div id="compassBox">
        <h2>Next Closest Sound</h2>
        <div id="compassArrow"></div>
        <p id="soundInfo"></p>
        <p id="soundDistance"></p>
    </div>
    <div id="userMap" style="height: 400px; width: 100%; margin-top: 20px;"></div>

    <div id="about">
        <h2>About GeoLocation Sound Player</h2>
        <p>
            Welcome to the GeoLocation Sound Player! This unique web application offers an immersive audio experience
            based on your physical location. As you move through different geographic areas, the soundscape changes,
            playing location-specific audio tracks. This innovative feature utilizes real-time geolocation data to
            enhance your auditory journey. Whether you're exploring a city, a park, or just walking around your
            neighborhood, our GeoLocation Sound Player provides a dynamic and interactive way to experience sound.
        </p>
        <p>Made with love and AI.</p>
    </div>

    
<script>
// Modular JavaScript structure for geolocation and sound playing functionality
const GeoLocationSoundPlayer = (function() {
    var currentSound = null;
    var userMap = null;
    var userMarker = null;
    var locations = [
        
            { latitude: 41.510434, longitude: -81.602960, soundFile: 'sound1.mp3' }, // Hypothetical coordinates around CIA
            { latitude: 41.510273, longitude: -81.602755, soundFile: 'sound4.mp3' },
            { latitude: 41.510098, longitude: -81.602483, soundFile: 'sound3.mp3' },
            { latitude: 41.510696, longitude: -81.602362, soundFile: 'sound2.mp3' },
            { latitude: 41.510080, longitude: -81.601657, soundFile: 'sound5.mp3' },
    ];

    function init() {
        checkLocationPermission();
        initMap();
        bindUIActions();
    }

    function bindUIActions() {
        document.getElementById('playPauseButton').addEventListener('click', togglePlayPause);
        document.getElementById('stopButton').addEventListener('click', stopSound);
        document.getElementById('startButton').addEventListener('click', function() {
            checkLocationAndUpdateSound();
            this.style.display = 'none';
        });
    }

    function checkLocationPermission() {
        if ('geolocation' in navigator) {
            navigator.geolocation.getCurrentPosition(handleSuccess, handleError);
        } else {
            updateStatus('Geolocation is not supported by this browser.');
        }
    }

    function handleSuccess(position) {
        // Existing logic for successful geolocation retrieval
        initUserMap(position.coords.latitude, position.coords.longitude);
        checkLocationAndUpdateSound();
    }

    function handleError(error) {
        switch(error.code) {
            case error.PERMISSION_DENIED:
                updateStatus('User denied the request for Geolocation.');
                break;
            case error.POSITION_UNAVAILABLE:
                updateStatus('Location information is unavailable.');
                break;
            case error.TIMEOUT:
                updateStatus('The request to get user location timed out.');
                break;
            default:
                updateStatus('An unknown error occurred.');
                break;
        }
    }

    // Other existing functions (playSound, togglePlayPause, stopSound, etc.) go here

    return {
        init: init
    };
})();

// Initialize GeoLocation Sound Player on document load
document.addEventListener('DOMContentLoaded', function() {
    GeoLocationSoundPlayer.init();
});
</script>

</body>

</html>